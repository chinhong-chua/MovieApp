@model IEnumerable<MovieApp.Models.Customer>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row mt-3">
    <div class="col-12">
        <h2>Customers</h2>
    </div>
    <div class="col-6 p-3">
        <button type="button" onclick="location.href ='@Url.Action("New",  "Customers")'" class="btn btn-outline-success">Create New Customer</button>
    </div>
</div>

@if (!Model.Any())
{
    <p>We don't have any customers yet.</p>
}
else
{
    <div class="row">
        <div class="col-12">
            <table class="table table-hover">
                <thead>
                    <tr class="bg-primary text-light">
                        <th scope="col">Customer</th>
                        <th>Discount Rate</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @*<tr class="table-active">
                            <th scope="row">Active</th>
                            <td>Column content</td>
                            <td>Column content</td>
                            <td>Column content</td>
                        </tr>*@
                    @*<tr>
                            <th scope="row">Default</th>
                            <td>Column content</td>
                            <td>Column content</td>
                            <td>Column content</td>
                        </tr>*@
                    @foreach (var customer in Model)
                    {
                        <tr class="table-light">
                            @*<th scope="row">

                                    <a href="@Url.Action("Details","Customers", new {id=@customer.Id})">@customer.Name</a>@customer.Name
                                </th>*@
                            <td>@Html.ActionLink(customer.Name, "Edit", "Customers", new { id = customer.Id }, null)</td>
                            <td>@customer.MembershipType.DiscountRate %</td>
                            <td>
                                <a id="confirmDialog" href="@Url.Action("Delete", "Customers",new {id= customer.Id})" onclick="return confirm('Are you sure you want to delete this item?');" ><span class="fa fa-times" ></span></a>
                            </td>
                        </tr>
                    }


                </tbody>
            </table>
        </div>
    </div>

}


@if (TempData["SysMessage"] != null)
{
    <h6 class="text-success">@TempData["SysMessage"]</h6>
}
@section scripts{
   
}